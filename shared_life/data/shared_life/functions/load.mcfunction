function shared_life:setup